<!-- 主题设置模板 -->
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <script src="houtai/js/jquery-3.3.1.js" type="text/javascript"></script>
    <link rel="stylesheet" href="houtai/assets/css/layui.css" media="all">
    <link rel="stylesheet" href="style/admin.css">
    <title>主题设置模板</title>
</head>
<script src="houtai/assets/layui.all.js"></script>
<script type="text/html" template lay-done="layui.data.theme();">
    {{#
        var local = layui.data(layui.setter.tableName),
        theme = local.theme || {},themeColorIndex =  parseInt((theme && theme.color) ? theme.color.index : 0) || 0;
    }}

    <div class="layui-card-header">
        配色方案
    </div>
    <div class="layui-card-body layadmin-setTheme">
        <ul class="layadmin-setTheme-color">
            {{# layui.each(layui.setter.theme.color, function(index, item){ }}
            <li layadmin-event="setTheme" data-index="{{ index }}" data-alias="{{ item.alias }}"
                {{ index === themeColorIndex ? 'class="layui-this"' : '' }} title="{{ item.alias }}">
                <div class="layadmin-setTheme-header"></div>
                <div class="layadmin-setTheme-side" style="background-color: {{ item.main }};">
                    <div class="layadmin-setTheme-logo" style="background-color: {{ item.logo }};"></div>
                </div>
            </li>
            {{# }); }}
        </ul>
    </div>
</script>

<script>
    layui.data.theme = function () {
        layui.use('form', function () {
            var form = layui.form
            , admin = layui.admin;

            //监听隐藏开关
            form.on('switch(system-theme-sideicon)', function () {
                admin.theme({
                    hideSideIcon: this.checked
                })
            });
        });
    };
</script>

